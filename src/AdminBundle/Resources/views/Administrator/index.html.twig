{% extends "@Admin/base.html.twig" %}

{% block title "Administrators" %}

{% block body %}
    <table class="table card">
        <thead>
        <tr>
            <th width="75">id</th>
            <th width="300">имя пользователя</th>
            <th>промокоды</th>
            <th width="200" class="pull-right contains-button">
                <a href="{{ path('administrators.create') }}" class="button button-small">создать</a>
            </th>
        </tr>
        </thead>
        <tbody>
        {% for administrator in administrators %}
        <tr>
            <td>{{ administrator.id }}</td>
            <td><a href="{{ path('administrators.edit', {id: administrator.id}) }}">{{ administrator.username }}</a></td>
            <td class="labels-list" colspan="2">
                {% for code in administrator.promoCodes %}<a href="javascript:" class="text-label text-label-top-offset text-lТabel-bottom-offset" data-badge="{{ code.users | length }}">{{ code.code }}</a> {% endfor %}
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    {% include '@Admin/pagination/pagination.html.twig' with { pagination: administrators, path: 'administrators.index.page' } only %}
{% endblock %}
